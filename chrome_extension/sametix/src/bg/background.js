function t(){var t=(new Date).getTime(),e="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(a){var n=16*Math.random();return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),("x"===a?n:3&n|8).toString(16)}))}apiBaseUrl="https://app.sametix.com",SAMETIXUUID=null,chrome.runtime.onInstalled.addListener((function(e){"install"==e.reason&&chrome.storage.local.get("SAMETIXUUID",(function(e){e.SAMETIXUUID?SAMETIXUUID=e.SAMETIXUUID:(SAMETIXUUID=t(),chrome.storage.local.set({SAMETIXUUID:SAMETIXUUID})),n("Installed"),chrome.tabs.create({url:"https://sametix.com/sametix-install-successful/"})}))})),setTimeout((function(){chrome.storage.local.get("SAMETIXUUID",(function(e){e.SAMETIXUUID?SAMETIXUUID=e.SAMETIXUUID:(SAMETIXUUID=t(),chrome.storage.local.set({SAMETIXUUID:SAMETIXUUID})),a()}))}),1e3);let e=0;function a(){e+=1;try{fetch(apiBaseUrl+"/api/hb?u="+SAMETIXUUID+"&v="+chrome.runtime.getManifest().version,{headers:{Accept:"application/json"}}).then(t=>t.json().then(e=>({data:e,status:t.status})).then(t=>{t.status>=200&&t.status})).catch(t=>console.error("Error: ",t))}catch{}}function n(t,e={}){if("https://app.sametix.com"==apiBaseUrl){var a=chrome.runtime.getManifest();fetch("https://api2.amplitude.com/2/httpapi",{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify({api_key:"dfddb9c1f88798f1d84c649926bc5c90",events:[{device_id:SAMETIXUUID,event_type:t,event_properties:e,app_version:a.version}]})}).then(t=>t.json()).catch(t=>console.error(t))}else console.log(t)}function s(t,e){}function o(t){i(t),t.disconnect()}function i(t){t._timer&&(clearTimeout(t._timer),delete t._timer)}chrome.runtime.onMessage.addListener((function(t,e,a){switch(t.type){case"getMappedEvents":!function(t,e){url=apiBaseUrl+"/api/get_event",fetch(url,{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:(a={data:JSON.stringify(t)},a?Object.keys(a).sort().map((function(t){var e=a[t];return Array.isArray(e)?e.sort().map((function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)})).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e)})).join("&"):"")}).then(t=>t.json().then(e=>({data:e,status:t.status})).then(t=>{t.status>=200&&t.status<300&&e(t.data)}));var a}(t.data,a);break;case"getShEventsInventory":!function(t,e){if(null==t)return void e({SH:null});url="https://www.stubhub.com"+t.url,fetch(url,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({ShowAllTickets:!0,HideDuplicateTicketsV2:!1,Quantity:0,PageSize:99999,CurrentPage:0,SortBy:"NEWPRICE",Sections:"",TicketClasses:"",ListingNotes:"",TicketTypeGroups:"",InstantDelivery:!1,EstimatedFees:!1,BetterValueTickets:!1,PriceOption:"",Method:"IndexSh"})}).then(t=>t.json().then(e=>({data:e,status:t.status})).then(t=>{t.status>=200&&t.status<300&&e({SH:t.data.items})}))}(t.data,a);break;case"getTpEventsInventory":!function(t,e){if(null==t)return void e({TP:null});url="https://api.tickpick.com/1.0/listings/internal/event/"+t.id+"?trackView=true&lid="+t.id,fetch(url,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(t=>t.json().then(e=>({data:e,status:t.status})).then(t=>{t.status>=200&&t.status<300&&e({TP:t.data})}))}(t.data,a);break;case"getTpVenueConfig":!function(t,e){if(null==t)return void e(null);url="https://api.tickpick.com/1.0/venues/chart/v2?venueId="+escape(t.config_id),fetch(url,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(t=>t.json().then(e=>({data:e,status:t.status})).then(t=>{t.status>=200&&t.status<300&&e(t.data)}))}(t.data,a);break;case"getVsEventsInventory":!function(t,e){if(null==t)return void e({VS:null});url="https://www.vividseats.com/hermes/api/v1/listings?productionId="+escape(t.id),fetch(url,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(t=>t.json().then(e=>({data:e,status:t.status})).then(t=>{t.status>=200&&t.status<300&&e({VS:t.data})}))}(t.data,a);break;case"trkTmEventVisit":n("TM Event Visit",t.data);break;case"trkTmSeatView":n("TM Seat View",t.data);break;case"trkTmQuickPickView":n("TM QuickPick View",t.data);break;case"trkTmDealFound":n("TM Deal Found",t.data);break;case"trkTmDealClicked":n("TM Deal Clicked",t.data);break;case"trkTmSoldOut":n("TM Sold Out Event",t.data);break;case"trkTmSoldOutClicked":n("TM Sold Out Clicked",t.data);break;case"trkTmNoActiveSale":n("TM No Active Sale",t.data);break;case"trkTmNoActiveSaleClicked":n("TM No Active Sale Clicked",t.data);break;case"trkShEventVisit":n("SH Event Visit",t.data);break;case"trkShSeatView":n("SH Seat View",t.data);break;case"trkShDealFound":n("SH Deal Found",t.data);break;case"trkShDealClicked":n("SH Deal Clicked",t.data);break;case"trkShSoldOut":n("SH Sold Out Event",t.data);break;case"trkShSoldOutClicked":n("SH Sold Out Clicked",t.data);break;default:a()}return!0})),setInterval((function(){fetch(chrome.runtime.getURL("/icons/icon16.png"))}),2e4),chrome.runtime.onConnect.addListener(t=>{"foo"===t.name&&(t.onMessage.addListener(s),t.onDisconnect.addListener(i),t._timer=setTimeout(o,25e4,t))}),setInterval(a,18e4)