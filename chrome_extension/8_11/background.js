(()=>{"use strict";var t=[];chrome.runtime.onMessage.addListener((e,s,n)=>{if("save-axs-code"===e.name)0==t.filter(o=>o.onsaleID==e.onsaleID).length&&t.push({onsaleID:e.onsaleID,code:e.code}),t.length>1e4&&t.shift(),n("got axs promo code");else if("get-axs-code"===e.name){const o=t.filter(c=>c.onsaleID==e.onsaleID);console.log(o),n(1==o.length?o[0].code:"")}}),chrome.runtime.onInstalled.addListener(function(){chrome.contextMenus.create({id:"settings",title:"Dropchecker",contexts:["all"],visible:!0}),chrome.contextMenus.create({id:"artistSelection",title:"Search artist on Eagleanalytix",contexts:["selection"],visible:!0})}),chrome.contextMenus.onClicked.addListener(function(e,s){"settings"==e.menuItemId?chrome.tabs.create({url:"assets/settings/settings.html"}):"artistSelection"==e.menuItemId&&chrome.scripting.executeScript({target:{tabId:s.id},files:["assets/getSelectedText.js"]}).then(n=>{chrome.tabs.create({url:"https://eagleanalytix.com/#/tm/searchevent?keyword="+n[0].result})})})})();